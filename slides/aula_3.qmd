---
title: 'Aula 3 - Visualização de Dados'
subtitle: 'Introdução ao aprendizado de máquina - UEMA 2025'
author: 'Thiago S. F .Silva'
date: 2025-12-10
format: 
    beamer:
        theme: metropolis
        urlcolor: blue
        include-in-header:
          file: custom.tex
---

# Parte III - Visualização de dados

## Análise visual

Analisar dados sem uma exploração gráfica é como ir a um encontro às escuras.

. . .

![](../figs/sapo.jpg){fig-align="center" width=80%}

## Análise visual

Analisar dados sem uma exploração gráfica é como ir a um encontro às escuras.

Nós somos seres essencialmente visuais, com uma capacidade incrível de processar imagens. 

## Por que gráficos?

O "Quarteto de Anscombe"

\tiny

Anscombe, F.J., 1973. Graphs in Statistical Analysis. The American Statistician 27, 17–21

\footnotesize

```{r anscombehead, echo=T}
head(anscombe)
```

## Quarteto de Anscombe

\footnotesize

```{r anscombemdels, echo=TRUE}
round(lm(y1 ~ x1, data = anscombe)$coefficients,2)
round(lm(y2 ~ x2, data = anscombe)$coefficients,2)
round(lm(y3 ~ x3, data = anscombe)$coefficients,2)
round(lm(y4 ~ x4, data = anscombe)$coefficients,2)
```

## Quarteto de Anscombe
```{r anscombeplot}
library(ggplot2)
library(patchwork)

p1 <- ggplot(anscombe, aes(x1,y1)) + geom_point(size=2) + geom_smooth(method = lm,se = FALSE)
p2 <- ggplot(anscombe, aes(x2,y2)) + geom_point(size=2) + geom_smooth(method = lm,se = FALSE)
p3 <- ggplot(anscombe, aes(x3,y3)) + geom_point(size=2) + geom_smooth(method = lm,se = FALSE)
p4 <- ggplot(anscombe, aes(x4,y4)) + geom_point(size=2) + geom_smooth(method = lm,se = FALSE)

(p1 + p2) / (p3 + p4)
```

## Melhor que o quarteto de Anscombe

\footnotesize

```{r datasaurus, echo=TRUE}
library(datasauRus)
library(dplyr)

datasaurus_dozen %>% group_by(dataset) %>%
    summarise(mean_x = mean(x), mean_y = mean(y), sd_x = sd(x),
              sd_y = sd(y))

```

## Melhor que o quarteto de Anscombe

```{r datasaurusplot}
ggplot(datasaurus_dozen, aes(x = x, y = y, colour = dataset))+
  geom_point() +
  theme(legend.position = "none")+
  facet_wrap(~dataset, ncol = 3)
```

## Melhor que o quarteto de Anscombe

```{r datasaurusplotdino}
ggplot(datasaurus_dozen %>% filter(dataset=='dino'), aes(x = x, y = y, colour = dataset))+
  geom_point(size=3, colour = 'black') +
  theme(legend.position = "none")
```

## A gramática dos gráficos

:::: {.columns}

::: {.column width="60%"}
- Conceito criado por Leland Wilkinson
- Como pensar em gráficos de maneira sistemática
:::

::: {.column width="40%"}
![](../figs/grammar_graphics.jpg){fig-align="center"}
:::

::::

## A gramática dos gráficos

Um gráfico é composto pelos seguintes elementos:

::: {.incremental}
- **Dados (*data*):** quais dados se está plotando
- **Estética (*aesthetics*):** como estes dados são representados (eixos, forma, - tamanho, cor)
- **Escala (*Scale*)**: qual o intervalo dos dados a ser visualisado?
- **Geometria (*geometry*):** que tipo de representação gráfica será usada?
- **Estatísticas (*statistics*):** como os dados originais estão sendo resumidos no - gráfico?
- **Facetas (*facets*):** como os dados devem ser separados em painéis?
:::

## A gramática dos gráficos

![](../figs/grammar_graphics_elements.png){fig-align="center"}

## Exemplo

\scriptsize

Dados: `iris`, Estética: `x = Sepal.Length, y = Sepal.Width, cor = Species, valores = cículos`, Escala: `x=0:8, y=2:4.5`,  Geometria = `pontos`, Estatística = `regressão`, Facetas = `Species`

```{r, fig.width=15, fig.height=8}
ggplot(iris,aes(x = Sepal.Length, y = Sepal.Width, colour = Species)) +
  geom_point() +
  geom_smooth(method="lm") +
  facet_grid(cols=vars(Species)) +
  theme_bw(base_size = 30)

```

